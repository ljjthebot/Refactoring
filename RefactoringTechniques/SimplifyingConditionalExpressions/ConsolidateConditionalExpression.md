
# 合并条件表达式

## 问题
您有多个条件语句，最终导致相同的结果或操作。

## 解决方案
将所有这些条件语句合并成单个表达式。

```java
// Java示例
double disabilityAmount() {
  if (seniority < 2) {
    return 0;
  }
  if (monthsDisabled > 12) {
    return 0;
  }
  if (isPartTime) {
    return 0;
  }
  // 计算残疾金额。
  // ...
}
```

```java
// 合并后的Java示例
double disabilityAmount() {
  if (isNotEligibleForDisability()) {
    return 0;
  }
  // 计算残疾金额。
  // ...
}
```

## 为什么要重构
您的代码包含许多交替的运算符，执行相同的操作。不清楚为什么要将运算符分开。

合并的主要目的是将条件提取到一个单独的方法中，以提高代码的清晰度。

## 好处
消除重复的控制流代码。合并具有相同“目标”的多个条件语句有助于显示只执行一个复杂的检查，导致执行一个动作。

通过合并所有运算符，现在可以将这个复杂的表达式隔离到一个新的方法中，并使用一个反映条件目的的名称。

## 如何重构
在重构之前，请确保条件语句没有任何“副作用”，而是简单地返回值，而不是修改某些东西。副作用可能隐藏在运算符本身执行的代码中，例如基于条件结果向变量添加了某些内容。

使用and和or将条件语句合并为单个表达式。在合并时的一般规则是：

- 使用and连接嵌套条件语句。
- 使用or连接连续的条件语句。

对运算符条件执行“提取方法”，并为该方法赋予反映表达式目的的名称。
