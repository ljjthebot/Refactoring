
# 合并重复的条件片段

## 问题
在条件语句的所有分支中都可以找到相同的代码。

## 解决方案
将代码移到条件语句之外。

```java
// Java示例
if (isSpecialDeal()) {
  total = price * 0.95;
  send();
}
else {
  total = price * 0.98;
  send();
}
```

```java
// 重构后的Java示例
if (isSpecialDeal()) {
  total = price * 0.95;
}
else {
  total = price * 0.98;
}
send();
```

## 为什么要重构
在条件语句的所有分支中都找到重复的代码，通常是由于条件分支内部代码的演变而导致的。团队开发可能是这种情况的一个因素。

## 好处
代码去重。

## 如何重构
如果重复的代码位于条件分支的开头，请将代码移到条件语句之前。

如果代码在分支的末尾执行，请将其放在条件语句之后。

如果重复的代码在分支内随机分布，请首先尝试将代码移到分支的开头或末尾，具体取决于它是否改变后续代码的结果。

如果适用，且重复的代码多于一行，请尝试使用“提取方法”（Extract Method）。
