# 参数化方法

## 问题

多个方法执行相似的操作，只是在内部值、数字或操作上有所不同。

## 解决方案

通过使用一个参数来传递必要的特殊值，将这些方法合并。

### 参数化方法 - 改前

### 参数化方法 - 改后

## 为什么重构

如果你有类似的方法，你可能有重复的代码，带来了所有这些重复代码可能带来的后果。

而且，如果你需要添加这个功能的另一个版本，你将不得不创建另一个方法。相反，你可以简单地使用不同的参数运行现有方法。

## 缺点

有时，这种重构技术可能会走得太远，导致一个冗长而复杂的通用方法，而不是多个较简单的方法。

当将功能的激活/停用移动到参数时要小心。这最终可能导致创建一个大型的条件运算符，需要通过使用“用显式方法替换参数”进行处理。

## 如何重构

1. 创建一个带有参数的新方法，并通过应用“提取方法”将其移动到所有类中相同的代码中。请注意，有时方法的某个部分实际上是相同的。在这种情况下，重构包括仅将相同的部分提取到新方法中。

2. 在新方法的代码中，用参数替换特殊/不同的值。

3. 对于每个旧方法，找到调用它的地方，并将这些调用替换为包含参数的新方法的调用。然后删除旧方法。