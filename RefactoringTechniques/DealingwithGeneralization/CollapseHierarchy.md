# 合并层次结构
## 问题
您有一个类层次结构，其中一个子类实际上与其超类相同。

## 解决方案
合并子类和超类。

## 合并层次结构 - 之前
[合并层次结构 - 之前]

## 合并层次结构 - 之后
[合并层次结构 - 之后]

## 为什么要重构
随着时间的推移，您的程序变得越来越庞大，一个子类和超类实际上变得相同。从子类中删除了一个特性，将一个方法移到了超类中...现在您有两个看起来很像的类。

## 好处
程序的复杂性降低。较少的类意味着在脑海中要牢记的东西较少，并且在未来的代码更改中要担心的可破坏的移动部分较少。

在方法早期定义的类中导航代码更容易。您无需查找整个层次结构以找到特定的方法。

## 不适用情况
您正在重构的类层次结构是否有多个子类？如果是这样，在重构完成后，剩余的子类应该成为层次结构合并的类的继承者。

但请记住，这可能会导致违反Liskov替换原则。例如，如果您的程序模拟城市交通网络，并且您意外地将Transport超类合并到Car子类中，那么Plane类可能会成为Car的继承者。糟糕！

## 如何重构
1. 选择更容易删除的类：超类还是子类。
2. 如果决定摆脱子类，请使用"Pull Up Field"和"Pull Up Method"。如果选择消除超类，则使用"Push Down Field"和"Push Down Method"。
3. 用要迁移字段和方法的类替换正在删除的类的所有用法。通常，这将是用于创建类的代码，变量和参数类型以及代码注释中的文档。
4. 删除空类。