# 用委托替换继承
## 问题
您有一个子类仅使用其超类的一部分方法（或者不可能继承超类数据）。

## 解决方案
创建一个字段，将一个超类对象放入其中，将方法委托给超类对象，并消除继承关系。

## 用委托替换继承 - 之前
[用委托替换继承 - 之前]

## 用委托替换继承 - 之后
[用委托替换继承 - 之后]

## 为什么要重构
如果：

- 您的子类违反了Liskov替换原则，即仅因为要组合公共代码而实现了继承，而不是因为子类是超类的扩展。
- 子类仅使用超类的一部分方法。在这种情况下，有一天某个人会调用他或她不应该调用的超类方法。

实质上，这种重构技术分离了两个类，并使超类成为子类的辅助类，而不是其父类。子类将仅具有对超类对象方法进行委托所需的方法。

## 好处
一个类不包含从超类继承的任何不需要的方法。

可以将具有不同实现的各种对象放入委托字段中。实际上，您获得了策略设计模式。

## 缺点
您必须编写许多简单的委托方法。

## 如何重构
1. 在子类中创建一个字段以保存超类。在初始阶段，将当前对象放入其中。
2. 更改子类方法，使其使用超类对象而不是this。
3. 对于在客户端代码中调用的从超类继承的方法，在子类中创建简单的委托方法。
4. 从子类中删除继承声明。
5. 更改字段的初始化代码，其中以前的超类存储在其中，创建一个新对象。