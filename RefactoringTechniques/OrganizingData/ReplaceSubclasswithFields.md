### 用字段替换子类
#### 问题
你有一些仅在其（返回常量值的）方法中存在差异的子类。

#### 解决方案
在父类中用字段替换这些方法，并删除子类。

#### 用字段替换子类 - 之前
#### 用字段替换子类 - 之后

#### 为何重构
有时候重构是避免类型码的良方。

在这种情况下，子类的层次结构可能仅在特定方法返回的值上有所不同。这些方法甚至不是通过计算得出的，而是在方法本身或方法返回的字段中严格规定的。为了简化类的体系结构，可以将这个层次结构压缩成一个类，其中包含一个或多个字段，具有根据情况设置的必要值。

这些变化可能在将大量功能从类层次结构移动到另一个地方之后变得必要。当前的层次结构不再那么有价值，其子类现在只是多余的负担。

#### 好处
简化了系统架构。如果你只想在不同的方法中返回不同的值，那么创建子类就显得太过于冗余。

#### 如何重构
1. 对子类应用“用工厂方法替换构造函数”。
2. 用父类工厂方法调用替换子类构造函数调用。
3. 在父类中声明字段，用于存储每个子类方法返回的常量值。
4. 创建一个受保护的父类构造函数，用于初始化新字段。
5. 创建或修改现有的子类构造函数，使其调用父类的新构造函数并将相关值传递给它。
6. 在父类中实现每个常量方法，使其返回相应字段的值。然后从子类中删除该方法。
7. 如果子类构造函数具有额外的功能，请使用“内联方法”将构造函数合并到父类工厂方法中。
8. 删除子类。