# 用对象替换数组

## 问题

有一个包含各种类型数据的数组。

## 解决方案

用一个对象替换数组，该对象将为每个元素有单独的字段。

### 重构前
```java
String[] row = new String[2];
row[0] = "Liverpool";
row[1] = "15";
```

### 重构后
```java
Performance row = new Performance();
row.setName("Liverpool");
row.setWins("15");
```

## 为何要进行重构

数组是存储单一类型数据和集合的优秀工具。但如果你使用数组像邮政信箱一样，将用户名存储在信箱1中，将用户地址存储在信箱14中，那么有一天你会为此感到非常不快乐。这种方法会在有人将某些内容放入错误的“信箱”时导致灾难性故障，并且还需要你的时间来弄清楚数据存储在哪里。

## 优势

在生成的类中，可以放置之前存储在主类或其他位置的所有相关行为。

与数组元素相比，类的字段更容易文档化。

## 如何进行重构

1. 创建一个新类，其中包含来自数组的数据。将数组本身放在类中作为公共字段。

2. 在原始类中创建一个字段，用于存储该类的对象。不要忘记在启动数据数组的地方创建对象本身。

3. 在新类中，逐个为数组的每个元素创建访问方法。为这些方法取一个能清楚表明其作用的自解释名称。同时，将主代码中对数组元素的每个使用都替换为相应的访问方法。

4. 当为所有元素创建了访问方法后，将数组设为私有。

5. 为类中的每个数组元素创建一个私有字段，然后更改访问方法，使其使用该字段而不是数组。

6. 当所有数据都移动完毕后，删除数组。